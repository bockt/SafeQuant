<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>SafeQuant by eahrne</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>SafeQuant</h1>
        <p>A Toolbox for analysis of Proteomics Data</p>
        <p class="view"><a href="https://github.com/eahrne/SafeQuant">View the Project on GitHub <small>eahrne/SafeQuant</small></a></p>
        <ul>
          <li><a href="https://github.com/eahrne/SafeQuant/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/eahrne/SafeQuant/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/eahrne/SafeQuant">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <p>The SafeQuant Package includes methods for analysis of quantitative (LFQ,TMT,HRM) Proteomics data.</p>

<h3>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h3>

<h4>
<a id="1-install-dependencies" class="anchor" href="#1-install-dependencies" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>1) Install Dependencies</h4>

<p>A) Install CRAN library dependencies (open R)</p>

<pre><code>R&gt; install.packages(c("seqinr","gplots","corrplot","optparse","data.table","epiR"))
</code></pre>

<p>B) Install BioConductor library dependencies (open R)</p>

<pre><code>R&gt; source("http://bioconductor.org/biocLite.R")
R&gt; biocLite(c("limma","affy"))
</code></pre>

<h4>
<a id="2-install-safequant-from-sources" class="anchor" href="#2-install-safequant-from-sources" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>2) Install SafeQuant from sources</h4>

<p><strong>Option 1, install "master branch" using "devtools"</strong></p>

<p>Make sure you have a working development environment.</p>

<p><strong>Windows</strong>: Install <a href="https://cran.r-project.org/bin/windows/Rtools/">Rtools</a>.</p>

<p><strong>Mac</strong>: Install Xcode from the Mac App Store.</p>

<p><strong>Linux</strong>: Install a compiler and various development libraries (details vary across different flavors of Linux).</p>

<pre><code>R&gt; install.packages("devtools")
R&gt; library(devtools)
R&gt; install_github("eahrne/SafeQuant")
</code></pre>

<p><strong>Option 2, install latest <a href="https://cran.r-project.org/web/packages/SafeQuant/index.html">CRAN</a> version</strong></p>

<pre><code>R&gt; install.packages("SafeQuant")
</code></pre>

<h4>
<a id="3-to-run-safequantr-post-process-progenesis-lfq-datasets-or-scaffold-tmt-datasets" class="anchor" href="#3-to-run-safequantr-post-process-progenesis-lfq-datasets-or-scaffold-tmt-datasets" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>3) To run safeQuant.R (Post-process Progenesis LFQ datasets or Scaffold TMT datasets)</h4>

<p>A) locate file safeQuant.R (C:\Users\ahrnee-adm\Downloads\SafeQuant\exec\safeQuant.R ) 
This is the SafeQuant main script. Copy it to an appropriate directory, e.g. c:\Program Files\SafeQuant\</p>

<p>B) open terminal
To display help options</p>

<pre><code>&gt; Rscript "c:\Program Files\SafeQuant\safeQuant.R" -h
</code></pre>

<p>To run (with minimal arguments)</p>

<pre><code>&gt; Rscript "c:\Program Files\SafeQuant\safeQuant.R" -i "c:\Program Files\SafeQuant\testData\peptide_measurement.csv" -o "c:\Program Files\SafeQuant\out"
</code></pre>

<h4>
<a id="tips" class="anchor" href="#tips" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Tips</h4>

<p>I) If using Progenesis QI we advice running SafeQuant on "Peptide Measurement" Exports. </p>

<ul>
<li>File -&gt; Export Peptide Measurements.  This option is available once you have reached the "Resolve Conflicts" Step in Progenesis QI</li>
<li>When choosing properties to be included in the exported file check the "Grouped accessions (for this sequence)" check box.</li>
</ul>

<p>II) When working with Progenesis "Feature Exports" it is advisable to discard all features (rows) not annotated with a peptide, to speed up SafeQuant analysis.
This can be done using the "filterLargeProgenesisPeptideFile.pl" perl script. (C:\Users\ahrnee-adm\Downloads\SafeQuant\exec\filterLargeProgenesisPeptideFile.pl) </p>

<p>A) install perl (or activePerl for windows <a href="http://www.activestate.com/activeperl">http://www.activestate.com/activeperl</a>)</p>

<p>B) open terminal</p>

<pre><code>&gt; perl "C:\Program Files\SafeQuant\filterLargeProgenesisPeptideFile.pl" "C:\Program Files\SafeQuant\testData\features.csv"
</code></pre>

<p>This will create a new versions of the feature file called with the extension "_FILTERED" features.csv -&gt; features_FILTERED.csv</p>

<h4>
<a id="basic-functionality-of-the-safequantr-script" class="anchor" href="#basic-functionality-of-the-safequantr-script" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Basic functionality of the safeQuant.R script</h4>

<ol>
<li>
<strong>Data Normalization</strong>

<ul>
<li>LFQ

<ul>
<li>Global data normalization by equalizing the total MS1 peak areas  across all LC/MS runs.</li>
</ul>
</li>
<li>Isobaric Labeling experiments (TMT or iTRAQ)

<ul>
<li>Global data normalization by equalizing the total reporter ion intensities across all reporter ion channels.</li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Ratio Calculation</strong>

<ul>
<li>LFQ

<ul>
<li>Summation of MS1 peak areas per peptide/protein and LC-MS/MS run, followed by calculation of peptide/protein abundance ratios. </li>
</ul>
</li>
<li>Isobaric Labeling experiments (TMT or iTRAQ)

<ul>
<li>Summation of reporter ion intensities per peptide/protein and LC-MS/MS run, followed by calculation of peptide/protein abundance ratios. </li>
</ul>
</li>
</ul>
</li>
<li>
<strong>Statistical testing for differential abundances</strong>

<ul>
<li>The summarized peptide/protein expression values are used for statistical testing of between condition differentially abundant peptides/proteins. Here, empirical Bayes moderated t-tests is applied, as implemented in the R/Bioconductor limma package (Smyth, 2004). The resulting per protein and condition comparison p-values are subsequently adjusted for multiple testing using the Benjamini-Hochberg method.</li>
</ul>
</li>
</ol>

<p>Smyth, G. K. (2004). Linear models and empirical bayes methods for assessing differential expression in microarray experiments. Stat Appl Genet Mol Biol, 3 SP -, Article3. <a href="http://www.ncbi.nlm.nih.gov/pubmed/16646809">http://www.ncbi.nlm.nih.gov/pubmed/16646809</a></p>

<h4>
<a id="use-case-manual" class="anchor" href="#use-case-manual" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Use Case Manual</h4>

<p><a href="https://raw.githubusercontent.com/eahrne/SafeQuant/master/inst/manuals/SafeQuant_UseCases.txt">https://raw.githubusercontent.com/eahrne/SafeQuant/master/inst/manuals/SafeQuant_UseCases.txt</a></p>

<h4>
<a id="tsv-export-help" class="anchor" href="#tsv-export-help" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>.tsv export help</h4>

<p><a href="https://github.com/eahrne/SafeQuant/blob/master/inst/manuals/tsv_spreadsheet_help.pdf">https://github.com/eahrne/SafeQuant/blob/master/inst/manuals/tsv_spreadsheet_help.pdf</a></p>

<h4>
<a id="package-documentation" class="anchor" href="#package-documentation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Package Documentation</h4>

<p><a href="https://github.com/eahrne/SafeQuant/blob/master/inst/manuals/SafeQuant-man.pdf">https://github.com/eahrne/SafeQuant/blob/master/inst/manuals/SafeQuant-man.pdf</a></p>

<h4>
<a id="publications" class="anchor" href="#publications" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Publications</h4>

<ul>
<li>Large-scale quantitative assessment of different in-solution protein digestion protocols reveals superior cleavage efficiency of tandem Lys-C/trypsin proteolysis over trypsin digestion
Timo Glatter, Christina Ludwig, Erik Ahrne, Ruedi Aebersold, Albert J.R. Heck, and Alexander Schmidt
Journal of Proteome Research Just Accepted Manuscript</li>
</ul>

<p><strong><a href="mailto:erik.ahrne@unibas.ch">questions?</a></strong></p>
      </section>
    </div>
    <footer>
      <p>Project maintained by <a href="https://github.com/eahrne">eahrne</a></p>
      <p>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></p>
    </footer>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
